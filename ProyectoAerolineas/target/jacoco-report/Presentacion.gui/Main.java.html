<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Main.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">MiProyectoSwing</a> &gt; <a href="index.source.html" class="el_package">Presentacion.gui</a> &gt; <span class="el_source">Main.java</span></div><h1>Main.java</h1><pre class="source lang-java linenums">package Presentacion.gui;

import logica.Fabrica;
import logica.ISistema;
import logica.TipoAsiento;
import logica.TipoDoc;
import javax.swing.*;
import java.time.LocalDate;
import java.util.Arrays;

<span class="nc" id="L11">public class Main {</span>
    public static void main(String[] args) {
<span class="nc" id="L13">        Fabrica fabrica = Fabrica.getInstance();</span>
<span class="nc" id="L14">        ISistema sistema = fabrica.getISistema();</span>

<span class="nc" id="L16">        System.out.println(&quot;üöÄ Iniciando aplicaci√≥n...&quot;);</span>

        try {
            // Primero cargar desde BD si existe
<span class="nc" id="L20">            sistema.cargarDesdeBd();</span>

            // Si no hay datos, hacer precarga completa
<span class="nc bnc" id="L23" title="All 2 branches missed.">            if (sistema.listarClientes().isEmpty()) {</span>
<span class="nc" id="L24">                System.out.println(&quot;üì¶ Base de datos vac√≠a - ejecutando precarga...&quot;);</span>
<span class="nc" id="L25">                precargarDatosCompletos(sistema);</span>
            } else {
<span class="nc" id="L27">                System.out.println(&quot;‚úÖ Datos existentes cargados desde BD&quot;);</span>
            }

<span class="nc" id="L30">            System.out.println(&quot;üéâ Aplicaci√≥n iniciada correctamente!&quot;);</span>

<span class="nc" id="L32">        } catch (Exception e) {</span>
<span class="nc" id="L33">            System.err.println(&quot;‚ùå Error al iniciar la aplicaci√≥n: &quot; + e.getMessage());</span>
<span class="nc" id="L34">            e.printStackTrace();</span>
<span class="nc" id="L35">        }</span>

<span class="nc" id="L37">        javax.swing.SwingUtilities.invokeLater(() -&gt; {</span>
<span class="nc" id="L38">            JFrame frame = new JFrame(&quot;Ventana Principal&quot;);</span>
<span class="nc" id="L39">            IntentoDise√±o ventanaPrincipal = new IntentoDise√±o(frame);</span>
<span class="nc" id="L40">            frame.setContentPane(ventanaPrincipal.Ventana);</span>
<span class="nc" id="L41">            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span>
<span class="nc" id="L42">            frame.pack();</span>
<span class="nc" id="L43">            frame.setLocationRelativeTo(null);</span>
<span class="nc" id="L44">            frame.setVisible(true);</span>
<span class="nc" id="L45">        });</span>
<span class="nc" id="L46">    }</span>

    public static void precargarDatosCompletos(ISistema sistema) {
        try {
<span class="nc" id="L50">            System.out.println(&quot;üöÄ Iniciando precarga de datos...&quot;);</span>

            // ===== 1. PRECARGAR CATEGOR√çAS =====
<span class="nc" id="L53">            sistema.altaCategoria(&quot;Turista&quot;);</span>
<span class="nc" id="L54">            sistema.altaCategoria(&quot;Ejecutivo&quot;);</span>
<span class="nc" id="L55">            System.out.println(&quot;‚úÖ Categor√≠as creadas&quot;);</span>

            // ===== 2. PRECARGAR CIUDADES =====
<span class="nc" id="L58">            sistema.altaCiudad(&quot;Santiago&quot;, &quot;Chile&quot;);</span>
<span class="nc" id="L59">            sistema.altaCiudad(&quot;Miami&quot;, &quot;Estados Unidos&quot;);</span>
<span class="nc" id="L60">            sistema.altaCiudad(&quot;Buenos Aires&quot;, &quot;Argentina&quot;);</span>
<span class="nc" id="L61">            sistema.altaCiudad(&quot;Madrid&quot;, &quot;Espa√±a&quot;);</span>
<span class="nc" id="L62">            sistema.altaCiudad(&quot;Londres&quot;, &quot;Reino Unido&quot;);</span>
<span class="nc" id="L63">            sistema.altaCiudad(&quot;Nueva York&quot;, &quot;Estados Unidos&quot;);</span>
<span class="nc" id="L64">            sistema.altaCiudad(&quot;Los √Ångeles&quot;, &quot;Estados Unidos&quot;);</span>
<span class="nc" id="L65">            System.out.println(&quot;‚úÖ Ciudades creadas&quot;);</span>

            // ===== 3. PRECARGAR CLIENTES =====
<span class="nc" id="L68">            sistema.altaCliente(&quot;juan123&quot;, &quot;Juan&quot;, &quot;Callero&quot;, &quot;juan@mail.com&quot;,</span>
<span class="nc" id="L69">                    LocalDate.of(1990, 5, 10), &quot;Uruguayo&quot;, TipoDoc.CEDULAIDENTIDAD,</span>
                    &quot;12345678&quot;, &quot;pwdJuan&quot;, null);

<span class="nc" id="L72">            sistema.altaCliente(&quot;ana456&quot;, &quot;Aglae&quot;, &quot;Locher&quot;, &quot;aglae@mail.com&quot;,</span>
<span class="nc" id="L73">                    LocalDate.of(1985, 8, 22), &quot;Argentina&quot;, TipoDoc.PASAPORTE,</span>
                    &quot;A9876543&quot;, &quot;pwdAna&quot;, null);

<span class="nc" id="L76">            sistema.altaCliente(&quot;luis789&quot;, &quot;Luis&quot;, &quot;Mart√≠nez&quot;, &quot;luis@mail.com&quot;,</span>
<span class="nc" id="L77">                    LocalDate.of(1992, 12, 3), &quot;Chileno&quot;, TipoDoc.CEDULAIDENTIDAD,</span>
                    &quot;87654321&quot;, &quot;pwdLuis&quot;, null);
<span class="nc" id="L79">            System.out.println(&quot;‚úÖ Clientes creados&quot;);</span>

            // ===== 4. PRECARGAR AEROL√çNEAS =====
<span class="nc" id="L82">            sistema.altaAerolinea(&quot;latam001&quot;, &quot;LATAM Airlines&quot;, &quot;Principal aerol√≠nea de Latinoam√©rica&quot;,</span>
                    &quot;contacto@latam.com&quot;, &quot;https://www.latam.com&quot;, &quot;pwdLatam&quot;, null);

<span class="nc" id="L85">            sistema.altaAerolinea(&quot;iberia002&quot;, &quot;Iberia&quot;, &quot;Aerol√≠nea espa√±ola con vuelos internacionales&quot;,</span>
                    &quot;info@iberia.com&quot;, &quot;https://www.iberia.com&quot;, &quot;pwdIberia&quot;, null);

<span class="nc" id="L88">            sistema.altaAerolinea(&quot;aa003&quot;, &quot;American Airlines&quot;, &quot;Aerol√≠nea estadounidense con gran cobertura global&quot;,</span>
                    &quot;support@aa.com&quot;, &quot;https://www.aa.com&quot;, &quot;pwdAA&quot;, null);

<span class="nc" id="L91">            sistema.altaAerolinea(&quot;aeromex004&quot;, &quot;AeroM√©xico&quot;, &quot;Aerol√≠nea mexicana l√≠der en vuelos internacionales&quot;,</span>
                    &quot;clientes@aeromexico.com&quot;, &quot;https://www.aeromexico.com&quot;, &quot;pwdAeroMex&quot;, null);

<span class="nc" id="L94">            sistema.altaAerolinea(&quot;flybondi005&quot;, &quot;FlyBondi&quot;, &quot;Low cost argentina con vuelos regionales&quot;,</span>
                    &quot;contacto@flybondi.com&quot;, &quot;https://www.flybondi.com&quot;, &quot;pwdFlybondi&quot;, null);
<span class="nc" id="L96">            System.out.println(&quot;‚úÖ Aerol√≠neas creadas&quot;);</span>

            // ===== 5. PRECARGAR RUTAS DE VUELO =====
<span class="nc" id="L99">            sistema.altaRutaVuelo(&quot;SCL-MIA&quot;, &quot;Santiago a Miami&quot;, &quot;Directo&quot;,</span>
<span class="nc" id="L100">                    sistema.obtenerAerolinea(&quot;latam001&quot;),</span>
<span class="nc" id="L101">                    &quot;Santiago&quot;, &quot;Miami&quot;, &quot;08:00&quot;, LocalDate.now(),</span>
                    500.0, 900.0, 50.0, new String[]{&quot;Turista&quot;, &quot;Ejecutivo&quot;}, null );

<span class="nc" id="L104">            sistema.altaRutaVuelo(&quot;SCL-EZE&quot;, &quot;Santiago a Buenos Aires&quot;, &quot;Directo&quot;,</span>
<span class="nc" id="L105">                    sistema.obtenerAerolinea(&quot;latam001&quot;),</span>
<span class="nc" id="L106">                    &quot;Santiago&quot;, &quot;Buenos Aires&quot;, &quot;14:00&quot;, LocalDate.now(),</span>
                    200.0, 350.0, 30.0, new String[]{&quot;Turista&quot;, &quot;Ejecutivo&quot;}, null );

<span class="nc" id="L109">            sistema.altaRutaVuelo(&quot;MAD-LHR&quot;, &quot;Madrid a Londres&quot;, &quot;Directo&quot;,</span>
<span class="nc" id="L110">                    sistema.obtenerAerolinea(&quot;iberia002&quot;),</span>
<span class="nc" id="L111">                    &quot;Madrid&quot;, &quot;Londres&quot;, &quot;10:00&quot;, LocalDate.now(),</span>
                    150.0, 300.0, 20.0, new String[]{&quot;Turista&quot;, &quot;Ejecutivo&quot;}, null);

<span class="nc" id="L114">            sistema.altaRutaVuelo(&quot;JFK-LAX&quot;, &quot;Nueva York a Los √Ångeles&quot;, &quot;Directo&quot;,</span>
<span class="nc" id="L115">                    sistema.obtenerAerolinea(&quot;aa003&quot;),</span>
<span class="nc" id="L116">                    &quot;Nueva York&quot;, &quot;Los √Ångeles&quot;, &quot;09:30&quot;, LocalDate.now(),</span>
                    400.0, 700.0, 40.0, new String[]{&quot;Turista&quot;, &quot;Ejecutivo&quot;}, null);

<span class="nc" id="L119">            sistema.altaRutaVuelo(&quot;JFK-MIA&quot;, &quot;Nueva York a Miami&quot;, &quot;Directo&quot;,</span>
<span class="nc" id="L120">                    sistema.obtenerAerolinea(&quot;aa003&quot;),</span>
<span class="nc" id="L121">                    &quot;Nueva York&quot;, &quot;Miami&quot;, &quot;13:00&quot;, LocalDate.now(),</span>
                    300.0, 550.0, 35.0, new String[]{&quot;Turista&quot;, &quot;Ejecutivo&quot;}, null);
<span class="nc" id="L123">            System.out.println(&quot;‚úÖ Rutas de vuelo creadas&quot;);</span>

            // ===== 6. CONFIRMAR RUTAS (para que est√©n activas) =====
<span class="nc" id="L126">            sistema.aceptarRutaVuelo(&quot;SCL-MIA&quot;);</span>
<span class="nc" id="L127">            sistema.aceptarRutaVuelo(&quot;SCL-EZE&quot;);</span>
<span class="nc" id="L128">            sistema.aceptarRutaVuelo(&quot;MAD-LHR&quot;);</span>
<span class="nc" id="L129">            sistema.aceptarRutaVuelo(&quot;JFK-LAX&quot;);</span>
<span class="nc" id="L130">            sistema.aceptarRutaVuelo(&quot;JFK-MIA&quot;);</span>
<span class="nc" id="L131">            System.out.println(&quot;‚úÖ Rutas confirmadas&quot;);</span>

            // ===== 7. PRECARGAR VUELOS =====
<span class="nc" id="L134">            sistema.altaVuelo(&quot;LATAM001-SCLMIA&quot;, &quot;LATAM Airlines&quot;, &quot;SCL-MIA&quot;,</span>
<span class="nc" id="L135">                    LocalDate.now().plusDays(7), 8, 150, 20, LocalDate.now());</span>

<span class="nc" id="L137">            sistema.altaVuelo(&quot;LATAM002-SCLEZE&quot;, &quot;LATAM Airlines&quot;, &quot;SCL-EZE&quot;,</span>
<span class="nc" id="L138">                    LocalDate.now().plusDays(5), 2, 100, 15, LocalDate.now());</span>

<span class="nc" id="L140">            sistema.altaVuelo(&quot;IBERIA001-MADLHR&quot;, &quot;Iberia&quot;, &quot;MAD-LHR&quot;,</span>
<span class="nc" id="L141">                    LocalDate.now().plusDays(10), 3, 120, 10, LocalDate.now());</span>

<span class="nc" id="L143">            sistema.altaVuelo(&quot;AA001-JFKLAX&quot;, &quot;American Airlines&quot;, &quot;JFK-LAX&quot;,</span>
<span class="nc" id="L144">                    LocalDate.now().plusDays(14), 6, 180, 25, LocalDate.now());</span>

<span class="nc" id="L146">            sistema.altaVuelo(&quot;AA002-JFKMIA&quot;, &quot;American Airlines&quot;, &quot;JFK-MIA&quot;,</span>
<span class="nc" id="L147">                    LocalDate.now().plusDays(3), 3, 160, 20, LocalDate.now());</span>
<span class="nc" id="L148">            System.out.println(&quot;‚úÖ Vuelos creados&quot;);</span>

            // ===== 8. PRECARGAR PAQUETES =====
<span class="nc" id="L151">            sistema.altaPaquete(&quot;Verano Caribe√±o&quot;,</span>
                    &quot;Paquete todo incluido con vuelos y hoteles en el Caribe.&quot;,
                    10, 30);

<span class="nc" id="L155">            sistema.altaPaquete(&quot;Aventura Andina&quot;,</span>
                    &quot;Incluye excursiones de trekking y escalada en la cordillera de los Andes.&quot;,
                    15, 45);
<span class="nc" id="L158">            System.out.println(&quot;‚úÖ Paquetes creados&quot;);</span>

            // ===== 9. AGREGAR RUTAS A PAQUETES =====
<span class="nc" id="L161">            sistema.altaRutaPaquete(&quot;Verano Caribe√±o&quot;, &quot;SCL-MIA&quot;, 2, TipoAsiento.TURISTA);</span>
<span class="nc" id="L162">            sistema.altaRutaPaquete(&quot;Aventura Andina&quot;, &quot;SCL-EZE&quot;, 1, TipoAsiento.EJECUTIVO);</span>
<span class="nc" id="L163">            System.out.println(&quot;‚úÖ Rutas agregadas a paquetes&quot;);</span>

            // ===== 10. CREAR RESERVAS DE PRUEBA =====
<span class="nc" id="L166">            System.out.println(&quot;üìù Creando reservas de prueba...&quot;);</span>

            // Reserva para Ana en el vuelo LATAM001-SCLMIA
<span class="nc" id="L169">            sistema.crearYRegistrarReserva(</span>
                    &quot;ana456&quot;,
                    &quot;LATAM001-SCLMIA&quot;,
<span class="nc" id="L172">                    LocalDate.now(),</span>
<span class="nc" id="L173">                    sistema.calcularCostoReserva(&quot;LATAM001-SCLMIA&quot;, TipoAsiento.TURISTA, 1, 0),</span>
                    TipoAsiento.TURISTA,
                    1,
                    0,
<span class="nc" id="L177">                    Arrays.asList(sistema.crearPasajero(&quot;Aglae&quot;, &quot;Locher&quot;))</span>
            );

            // Reserva para Juan en el vuelo AA001-JFKLAX
<span class="nc" id="L181">            sistema.crearYRegistrarReserva(</span>
                    &quot;juan123&quot;,
                    &quot;AA001-JFKLAX&quot;,
<span class="nc" id="L184">                    LocalDate.now(),</span>
<span class="nc" id="L185">                    sistema.calcularCostoReserva(&quot;AA001-JFKLAX&quot;, TipoAsiento.EJECUTIVO, 2, 1),</span>
                    TipoAsiento.EJECUTIVO,
                    2,
                    1,
<span class="nc" id="L189">                    Arrays.asList(sistema.crearPasajero(&quot;Juan&quot;, &quot;Callero&quot;))</span>
            );

<span class="nc" id="L192">            System.out.println(&quot;‚úÖ Reservas de prueba creadas exitosamente!&quot;);</span>
<span class="nc" id="L193">            System.out.println(&quot;üéâ Precarga de datos completada exitosamente!&quot;);</span>

<span class="nc" id="L195">        } catch (Exception e) {</span>
<span class="nc" id="L196">            System.err.println(&quot;‚ùå Error en precarga: &quot; + e.getMessage());</span>
<span class="nc" id="L197">            e.printStackTrace();</span>
<span class="nc" id="L198">        }</span>


<span class="nc" id="L201">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>