<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta de Paquete de Rutas de Vuelo - Juan Viajes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .navbar-brand {
            font-weight: bold;
            font-size: 1.5rem;
        }
        .user-actions {
            display: flex;
            gap: 10px;
        }
        .card {
            border: none;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
        .card-header {
            background: linear-gradient(135deg, #3498db, #8e44ad);
            border-bottom: none;
        }
        .paquete-card {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .paquete-card:hover {
            border-color: #3498db;
            transform: translateY(-2px);
        }
        .paquete-card.selected {
            border-color: #28a745;
            background-color: #f8fff9;
        }
        .ruta-item {
            padding: 12px;
            margin-bottom: 10px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .ruta-item:hover {
            background-color: #e9ecef;
            border-left-color: #2980b9;
        }
        .ruta-item.selected {
            background-color: #e8f5e8;
            border-left-color: #28a745;
        }
        .ruta-detalle {
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #8e44ad;
        }
        .badge-vigente {
            background-color: #28a745;
        }
        .badge-vencido {
            background-color: #dc3545;
        }
        .dropdown-menu {
            border: none;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
        .dropdown-item:hover {
            background-color: #3498db;
            color: white;
        }
    </style>
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="PaginaPrincipal.html">Juan Viajes</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto">
            <li class="nav-item">
                <a class="nav-link" href="PaginaPrincipal.html">Inicio</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="vuelosDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Vuelos
                </a>
                <ul class="dropdown-menu" aria-labelledby="vuelosDropdown">
                    <li><a class="dropdown-item" href="consulta-vuelo.html">Consulta de Vuelo</a></li>
                    <li><a class="dropdown-item active" href="consulta-reserva.html">Consulta de Reserva</a></li>
                    <li><a class="dropdown-item" href="reserva-vuelo.html">Reserva de Vuelo</a></li>
                    <li><a class="dropdown-item" href="alta-vuelo.html">Alta de Vuelo</a></li>
                </ul>
            </li>
            <li class="nav-item dropdown active">
                <a class="nav-link dropdown-toggle" href="#" id="paquetesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Paquetes
                </a>
                <ul class="dropdown-menu" aria-labelledby="paquetesDropdown">
                    <li><a class="dropdown-item" href="consulta-paquete.html">Consulta de Paquete</a></li>
                    <li><a class="dropdown-item" href="compra-paquete.html">Compra de Paquete</a></li>
                    <li><a class="dropdown-item active" href="alta-paquete.html">Alta de Paquete</a></li>
                </ul>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="aerolineasDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Aerolíneas
                </a>
                <ul class="dropdown-menu" aria-labelledby="aerolineasDropdown">
                    <li><a class="dropdown-item" href="alta-ruta.html">Alta de Ruta</a></li>
                    <li><a class="dropdown-item" href="consulta-ruta.html">Consulta de Ruta</a></li>
                    <li><a class="dropdown-item" href="alta-vuelo.html">Alta de Vuelo</a></li>
                </ul>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="usuariosDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Usuarios
                </a>
                <ul class="dropdown-menu" aria-labelledby="usuariosDropdown">
                    <li><a class="dropdown-item" href="alta-usuario.html">Alta de Usuario</a></li>
                    <li><a class="dropdown-item" href="consulta-usuario.html">Consulta de Usuario</a></li>
                    <li><a class="dropdown-item" href="modificar-usuario.html">Modificar Datos</a></li>
                </ul>
            </li>
        </ul>
        <div class="user-actions">
            <span class="navbar-text me-3">
                <i class="bi bi-person-gear"></i> Administrador
            </span>
            <a class="btn btn-outline-primary" href="PaginaPrincipal.html">Salir</a>
        </div>
    </div>
</nav>

<div class="container mt-4 mb-5">
    <div class="row">
        <div class="col-lg-10 mx-auto">
            <div class="card shadow-lg">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">Consulta de Paquete de Rutas de Vuelo</h4>
                    <p class="mb-0 mt-2 small">Explore los paquetes disponibles y consulte información detallada de cada ruta</p>
                </div>
                <div class="card-body p-4">

                    <!-- Selección de Paquete -->
                    <div class="mb-4">
                        <label for="paqueteSelect" class="form-label h5">Seleccione un Paquete</label>
                        <select class="form-select form-select-lg" id="paqueteSelect">
                            <option value="">Seleccione un paquete para consultar...</option>
                            <option value="sudamerica">Paquete Sudamérica Esencial</option>
                            <option value="europa">Paquete Europa Grand Tour</option>
                            <option value="caribe">Paquete Caribe Paradise</option>
                            <option value="norteamerica">Paquete Norteamérica Explorer</option>
                        </select>
                    </div>

                    <!-- Información del Paquete -->
                    <div id="infoPaquete" class="mt-4" style="display: none;">
                        <div class="card border-success">
                            <div class="card-header bg-success text-white">
                                <h5 class="mb-0">Información del Paquete</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h4 id="nombrePaquete" class="text-primary"></h4>
                                        <p class="mb-2"><strong>Costo:</strong> $<span id="costoPaquete" class="h5 text-success"></span></p>
                                        <p class="mb-2"><strong>Vigencia:</strong> <span id="vigenciaPaquete" class="badge bg-info"></span></p>
                                        <p class="mb-2"><strong>Rutas incluidas:</strong> <span id="cantidadRutas" class="badge bg-primary"></span></p>
                                        <p class="mb-0"><strong>Descripción:</strong> <span id="descripcionPaquete"></span></p>
                                    </div>
                                    <div class="col-md-6">
                                        <h6>Beneficios del Paquete:</h6>
                                        <ul id="beneficiosPaquete" class="list-unstyled"></ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Rutas Incluidas -->
                        <div class="mt-4">
                            <h5 class="mb-3">Rutas Incluidas en el Paquete</h5>
                            <div id="rutasPaquete" class="row g-3">
                                <!-- Las rutas se cargarán dinámicamente -->
                            </div>
                        </div>
                    </div>

                    <!-- Información Detallada de la Ruta -->
                    <div id="infoRuta" class="mt-4" style="display: none;">
                        <div class="card border-primary">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0">Información Detallada de la Ruta</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-8">
                                        <h4 id="rutaNombre" class="text-primary"></h4>
                                        <p class="lead" id="rutaDescripcionCorta"></p>

                                        <div class="row mt-4">
                                            <div class="col-md-6">
                                                <h6>Información de la Ruta</h6>
                                                <p class="mb-2"><strong>Aerolínea:</strong> <span id="rutaAerolinea"></span></p>
                                                <p class="mb-2"><strong>Origen:</strong> <span id="rutaOrigen"></span></p>
                                                <p class="mb-2"><strong>Destino:</strong> <span id="rutaDestino"></span></p>
                                                <p class="mb-2"><strong>Duración:</strong> <span id="rutaDuracion"></span></p>
                                                <p class="mb-2"><strong>Hora salida:</strong> <span id="rutaHoraSalida"></span></p>
                                            </div>
                                            <div class="col-md-6">
                                                <h6>Costos y Categorías</h6>
                                                <p class="mb-2"><strong>Turista:</strong> $<span id="rutaTurista"></span></p>
                                                <p class="mb-2"><strong>Ejecutivo:</strong> $<span id="rutaEjecutivo"></span></p>
                                                <p class="mb-2"><strong>Equipaje extra:</strong> $<span id="rutaEquipaje"></span></p>
                                                <p class="mb-2"><strong>Categorías:</strong> <span id="rutaCategorias"></span></p>
                                                <p class="mb-0"><strong>Estado:</strong> <span id="rutaEstado" class="badge bg-success"></span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <img id="rutaImagen" src="" alt="Imagen de la ruta" class="img-fluid rounded">
                                        <div class="mt-3 text-center">
                                            <button class="btn btn-outline-primary btn-sm" onclick="consultarVuelos()">
                                                Ver Vuelos Disponibles
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Descripción extendida -->
                                <div class="mt-4">
                                    <h6>Descripción Completa</h6>
                                    <p id="rutaDescripcionCompleta" class="text-muted"></p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Login -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Iniciar Sesión</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="loginEmail" class="form-label">Email o Nickname</label>
                        <input type="text" class="form-control" id="loginEmail" required>
                    </div>
                    <div class="mb-3">
                        <label for="loginPassword" class="form-label">Contraseña</label>
                        <input type="password" class="form-control" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Iniciar Sesión</button>
                </form>
            </div>
            <div class="modal-footer">
                <p class="text-center w-100">¿No tienes cuenta? <a href="alta-usuario.html">Regístrate aquí</a></p>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Datos simulados de paquetes mejorados
    const paquetes = {
        "sudamerica": {
            nombre: "Sudamérica Esencial",
            costo: 1200,
            vigencia: "180 días",
            descripcion: "Descubre los destinos más emblemáticos de Sudamérica con este paquete esencial que incluye las rutas más populares.",
            beneficios: [
                "20% de descuento vs compra individual",
                "Flexibilidad para cambiar fechas",
                "Asistencia al viajero incluida",
                "Traslados aeropuerto-hotel"
            ],
            rutas: [
                {
                    id: "ZL1502",
                    nombre: "Montevideo - Rio de Janeiro",
                    descripcionCorta: "Vuelo directo a las playas de Brasil",
                    descripcionCompleta: "Disfrute de un vuelo directo desde Montevideo hasta la maravillosa ciudad de Rio de Janeiro. Con una duración de apenas 2 horas y 30 minutos, llegará listo para explorar las famosas playas de Copacabana e Ipanema, el Cristo Redentor y el Pan de Azúcar.",
                    aerolinea: "ZulyFly",
                    origen: "Montevideo, Uruguay (MVD)",
                    destino: "Rio de Janeiro, Brasil (GIG)",
                    duracion: "2h 30m",
                    horaSalida: "07:15",
                    turista: 320,
                    ejecutivo: 550,
                    equipaje: 25,
                    categorias: "Internacionales, América, Cortos",
                    estado: "Confirmada",
                    imagen: "https://via.placeholder.com/400x250/3498db/ffffff?text=Montevideo-Rio"
                },
                {
                    id: "AR2050",
                    nombre: "Buenos Aires - Santiago",
                    descripcionCorta: "Cruzando la cordillera de los Andes",
                    descripcionCompleta: "Experimente la majestuosidad de los Andes en este vuelo entre Buenos Aires y Santiago. Disfrute de vistas panorámicas de la cordillera mientras cruza hacia Chile, donde le esperan viñedos, montañas y la vibrante capital Santiago.",
                    aerolinea: "Aerolíneas Argentinas",
                    origen: "Buenos Aires, Argentina (EZE)",
                    destino: "Santiago, Chile (SCL)",
                    duracion: "2h 15m",
                    horaSalida: "14:30",
                    turista: 280,
                    ejecutivo: 480,
                    equipaje: 30,
                    categorias: "Internacionales, América",
                    estado: "Confirmada",
                    imagen: "https://via.placeholder.com/400x250/e74c3c/ffffff?text=BsAs-Santiago"
                },
                {
                    id: "LA3040",
                    nombre: "Lima - Bogotá",
                    descripcionCorta: "Conectando capitales sudamericanas",
                    descripcionCompleta: "Conecte dos de las capitales más importantes de Sudamérica en este vuelo directo. Desde la riqueza histórica de Lima hasta la energía moderna de Bogotá, explore la diversidad cultural del continente.",
                    aerolinea: "LATAM",
                    origen: "Lima, Perú (LIM)",
                    destino: "Bogotá, Colombia (BOG)",
                    duracion: "3h 45m",
                    horaSalida: "10:20",
                    turista: 350,
                    ejecutivo: 620,
                    equipaje: 28,
                    categorias: "Internacionales, América",
                    estado: "Confirmada",
                    imagen: "https://via.placeholder.com/400x250/2ecc71/ffffff?text=Lima-Bogotá"
                }
            ]
        },
        "europa": {
            nombre: "Europa Grand Tour",
            costo: 2500,
            vigencia: "365 días",
            descripcion: "Vive la experiencia europea con este paquete premium que incluye las capitales más emblemáticas del viejo continente.",
            beneficios: [
                "30% de descuento vs compra individual",
                "Alojamiento 4 estrellas incluido",
                "Tours guiados en cada ciudad",
                "Transporte entre ciudades",
                "Seguro de viaje premium"
            ],
            rutas: [
                {
                    id: "IB6012",
                    nombre: "Madrid - París",
                    descripcionCorta: "De la capital española a la ciudad luz",
                    descripcionCompleta: "Viaje desde el vibrante Madrid hasta la romántica París en este vuelo que conecta dos de las capitales más fascinantes de Europa. Disfrute de la fusión entre la pasión española y la elegancia francesa.",
                    aerolinea: "Iberia",
                    origen: "Madrid, España (MAD)",
                    destino: "París, Francia (CDG)",
                    duracion: "2h 10m",
                    horaSalida: "08:45",
                    turista: 450,
                    ejecutivo: 780,
                    equipaje: 35,
                    categorias: "Internacionales, Europa",
                    estado: "Confirmada",
                    imagen: "https://via.placeholder.com/400x250/9b59b6/ffffff?text=Madrid-París"
                }
            ]
        },
        "caribe": {
            nombre: "Caribe Paradise",
            costo: 1800,
            vigencia: "90 días",
            descripcion: "Escape tropical a los destinos más exclusivos del Caribe con todo incluido para unas vacaciones perfectas.",
            beneficios: [
                "Todo incluido: alojamiento y comidas",
                "Actividades acuáticas gratuitas",
                "Traslados privados",
                "Asistencia VIP en destino"
            ],
            rutas: [
                {
                    id: "AA904",
                    nombre: "Miami - Cancún",
                    descripcionCorta: "Del glamour americano al paraíso mexicano",
                    descripcionCompleta: "Escape desde la vibrante Miami hasta el paraíso caribeño de Cancún. Disfrute de aguas turquesas, playas de arena blanca y la rica cultura mexicana en este vuelo directo.",
                    aerolinea: "American Airlines",
                    origen: "Miami, USA (MIA)",
                    destino: "Cancún, México (CUN)",
                    duracion: "2h 30m",
                    horaSalida: "11:20",
                    turista: 380,
                    ejecutivo: 650,
                    equipaje: 32,
                    categorias: "Internacionales, Caribe, Exclusivos",
                    estado: "Confirmada",
                    imagen: "https://via.placeholder.com/400x250/f39c12/ffffff?text=Miami-Cancún"
                }
            ]
        }
    };

    const paqueteSelect = document.getElementById("paqueteSelect");
    const infoPaquete = document.getElementById("infoPaquete");
    const infoRuta = document.getElementById("infoRuta");

    paqueteSelect.addEventListener("change", () => {
        const paqueteId = paqueteSelect.value;
        const paquete = paquetes[paqueteId];

        if(paquete) {
            // Mostrar información del paquete
            infoPaquete.style.display = "block";
            document.getElementById("nombrePaquete").textContent = paquete.nombre;
            document.getElementById("costoPaquete").textContent = paquete.costo;
            document.getElementById("vigenciaPaquete").textContent = paquete.vigencia;
            document.getElementById("cantidadRutas").textContent = paquete.rutas.length + " rutas";
            document.getElementById("descripcionPaquete").textContent = paquete.descripcion;

            // Mostrar beneficios
            const beneficiosList = document.getElementById("beneficiosPaquete");
            beneficiosList.innerHTML = "";
            paquete.beneficios.forEach(beneficio => {
                const li = document.createElement("li");
                li.innerHTML = `<i class="bi bi-check-circle-fill text-success"></i> ${beneficio}`;
                beneficiosList.appendChild(li);
            });

            // Mostrar rutas
            const rutasContainer = document.getElementById("rutasPaquete");
            rutasContainer.innerHTML = "";
            paquete.rutas.forEach((ruta, index) => {
                const rutaHTML = `
                    <div class="col-md-6">
                        <div class="ruta-item" onclick="mostrarRutaDetalle('${paqueteId}', ${index})">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h6 class="mb-1">${ruta.nombre}</h6>
                                    <p class="mb-1 text-muted small">${ruta.descripcionCorta}</p>
                                    <p class="mb-0 small"><strong>${ruta.aerolinea}</strong> | ${ruta.duracion}</p>
                                </div>
                                <span class="badge bg-primary">${ruta.id}</span>
                            </div>
                        </div>
                    </div>
                `;
                rutasContainer.innerHTML += rutaHTML;
            });

            // Ocultar información de ruta
            infoRuta.style.display = "none";
        } else {
            infoPaquete.style.display = "none";
            infoRuta.style.display = "none";
        }
    });

    function mostrarRutaDetalle(paqueteId, rutaIndex) {
        const ruta = paquetes[paqueteId].rutas[rutaIndex];

        if (ruta) {
            // Actualizar información de la ruta
            document.getElementById("rutaNombre").textContent = ruta.nombre;
            document.getElementById("rutaDescripcionCorta").textContent = ruta.descripcionCorta;
            document.getElementById("rutaDescripcionCompleta").textContent = ruta.descripcionCompleta;
            document.getElementById("rutaAerolinea").textContent = ruta.aerolinea;
            document.getElementById("rutaOrigen").textContent = ruta.origen;
            document.getElementById("rutaDestino").textContent = ruta.destino;
            document.getElementById("rutaDuracion").textContent = ruta.duracion;
            document.getElementById("rutaHoraSalida").textContent = ruta.horaSalida;
            document.getElementById("rutaTurista").textContent = ruta.turista;
            document.getElementById("rutaEjecutivo").textContent = ruta.ejecutivo;
            document.getElementById("rutaEquipaje").textContent = ruta.equipaje;
            document.getElementById("rutaCategorias").textContent = ruta.categorias;
            document.getElementById("rutaEstado").textContent = ruta.estado;
            document.getElementById("rutaImagen").src = ruta.imagen;

            // Mostrar sección de información de ruta
            infoRuta.style.display = "block";

            // Remover selección anterior y marcar actual
            document.querySelectorAll('.ruta-item').forEach(item => {
                item.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');

            // Scroll a la información de la ruta
            infoRuta.scrollIntoView({ behavior: 'smooth' });
        }
    }

    function consultarVuelos() {
        const rutaNombre = document.getElementById("rutaNombre").textContent;
        alert(`Redirigiendo a consulta de vuelos para: ${rutaNombre}\n\nEn una implementación real, esto llevaría a la página de consulta de vuelos con los filtros aplicados para esta ruta.`);
        // window.location.href = `consulta-vuelo.html?ruta=${encodeURIComponent(rutaNombre)}`;
    }

    // Mejorar la experiencia de usuario con tooltips
    document.addEventListener('DOMContentLoaded', function() {
        // Agregar tooltips a los elementos interactivos
        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
</script>
</body>
</html>