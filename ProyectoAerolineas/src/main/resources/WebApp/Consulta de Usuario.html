<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta de Usuario</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Consulta de Usuario</h4>
        </div>
        <div class="card-body">

            <!-- Selección de Usuario -->
            <div class="mb-3">
                <label for="usuarioSelect" class="form-label">Seleccione un usuario</label>
                <select class="form-select" id="usuarioSelect">
                    <option value="">Seleccione un usuario...</option>
                    <option value="Cliente1" data-tipo="cliente">Cliente1</option>
                    <option value="Cliente2" data-tipo="cliente">Cliente2</option>
                    <option value="Aerolinea1" data-tipo="aerolinea">Aerolinea1</option>
                    <option value="Aerolinea2" data-tipo="aerolinea">Aerolinea2</option>
                </select>
            </div>

            <!-- Información del Usuario -->
            <div id="infoUsuario" style="display: none;" class="mt-3">
                <h5>Datos del Usuario</h5>
                <p><strong>Nombre:</strong> <span id="nombreUsuario"></span></p>
                <p><strong>Nickname:</strong> <span id="nicknameUsuario"></span></p>
                <p><strong>Correo:</strong> <span id="correoUsuario"></span></p>
                <p><strong>Tipo:</strong> <span id="tipoUsuario"></span></p>
                <div id="imagenUsuarioContainer">
                    <strong>Imagen:</strong>
                    <img id="imagenUsuario" src="" alt="Imagen de usuario" class="img-fluid mt-2" style="max-width: 200px; display: none;">
                </div>

                <!-- Datos extra Cliente -->
                <div id="datosCliente" style="display: none;">
                    <h6>Reservas y Paquetes Comprados</h6>
                    <ul id="reservasCliente"></ul>
                    <ul id="paquetesCliente"></ul>
                </div>

                <!-- Datos extra Aerolínea -->
                <div id="datosAerolinea" style="display: none;">
                    <h6>Rutas de Vuelo</h6>
                    <ul id="rutasAerolinea"></ul>
                </div>
            </div>

        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const usuarioSelect = document.getElementById("usuarioSelect");
    const infoUsuario = document.getElementById("infoUsuario");
    const nombreUsuario = document.getElementById("nombreUsuario");
    const nicknameUsuario = document.getElementById("nicknameUsuario");
    const correoUsuario = document.getElementById("correoUsuario");
    const tipoUsuarioSpan = document.getElementById("tipoUsuario");
    const imagenUsuario = document.getElementById("imagenUsuario");

    const datosCliente = document.getElementById("datosCliente");
    const reservasCliente = document.getElementById("reservasCliente");
    const paquetesCliente = document.getElementById("paquetesCliente");

    const datosAerolinea = document.getElementById("datosAerolinea");
    const rutasAerolinea = document.getElementById("rutasAerolinea");

    // Datos simulados
    const usuarios = {
        "Cliente1": {
            tipo: "Cliente",
            nickname: "cliente1",
            correo: "cliente1@correo.com",
            imagen: "",
            reservas: ["Reserva Vuelo 101", "Reserva Vuelo 102"],
            paquetes: ["Paquete A"]
        },
        "Cliente2": {
            tipo: "Cliente",
            nickname: "cliente2",
            correo: "cliente2@correo.com",
            imagen: "",
            reservas: [],
            paquetes: []
        },
        "Aerolinea1": {
            tipo: "Aerolínea",
            nickname: "aerolinea1",
            correo: "aero1@correo.com",
            imagen: "",
            rutas: ["Ruta 1 Confirmada", "Ruta 2 Ingresada"]
        },
        "Aerolinea2": {
            tipo: "Aerolínea",
            nickname: "aerolinea2",
            correo: "aero2@correo.com",
            imagen: "",
            rutas: ["Ruta 3 Confirmada", "Ruta 4 Rechazada"]
        }
    };

    usuarioSelect.addEventListener("change", () => {
        const selectedUser = usuarioSelect.value;
        if(selectedUser && usuarios[selectedUser]){
            const u = usuarios[selectedUser];
            infoUsuario.style.display = "block";
            nombreUsuario.textContent = selectedUser;
            nicknameUsuario.textContent = u.nickname;
            correoUsuario.textContent = u.correo;
            tipoUsuarioSpan.textContent = u.tipo;

            if(u.imagen){
                imagenUsuario.src = u.imagen;
                imagenUsuario.style.display = "block";
            } else {
                imagenUsuario.style.display = "none";
            }

            // Mostrar datos específicos según tipo
            if(u.tipo === "Cliente"){
                datosCliente.style.display = "block";
                datosAerolinea.style.display = "none";

                reservasCliente.innerHTML = "";
                u.reservas.forEach(r => {
                    const li = document.createElement("li");
                    li.textContent = r;
                    reservasCliente.appendChild(li);
                });

                paquetesCliente.innerHTML = "";
                u.paquetes.forEach(p => {
                    const li = document.createElement("li");
                    li.textContent = p;
                    paquetesCliente.appendChild(li);
                });
            } else if(u.tipo === "Aerolínea"){
                datosCliente.style.display = "none";
                datosAerolinea.style.display = "block";

                rutasAerolinea.innerHTML = "";
                u.rutas.forEach(r => {
                    const li = document.createElement("li");
                    li.textContent = r;
                    rutasAerolinea.appendChild(li);
                });
            }
        } else {
            infoUsuario.style.display = "none";
        }
    });
</script>

</body>
</html>
